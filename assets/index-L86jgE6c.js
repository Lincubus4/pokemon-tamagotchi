(function(){const y=document.createElement("link").relList;if(y&&y.supports&&y.supports("modulepreload"))return;for(const S of document.querySelectorAll('link[rel="modulepreload"]'))_(S);new MutationObserver(S=>{for(const b of S)if(b.type==="childList")for(const R of b.addedNodes)R.tagName==="LINK"&&R.rel==="modulepreload"&&_(R)}).observe(document,{childList:!0,subtree:!0});function h(S){const b={};return S.integrity&&(b.integrity=S.integrity),S.referrerPolicy&&(b.referrerPolicy=S.referrerPolicy),S.crossOrigin==="use-credentials"?b.credentials="include":S.crossOrigin==="anonymous"?b.credentials="omit":b.credentials="same-origin",b}function _(S){if(S.ep)return;S.ep=!0;const b=h(S);fetch(S.href,b)}})();var me=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ct(p){return p&&p.__esModule&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p}function pe(p){throw new Error('Could not dynamically require "'+p+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var rn={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(p,y){(function(h){p.exports=h()})(function(){return function h(_,S,b){function R(B,G){if(!S[B]){if(!_[B]){var v=typeof pe=="function"&&pe;if(!G&&v)return v(B,!0);if(I)return I(B,!0);var g=new Error("Cannot find module '"+B+"'");throw g.code="MODULE_NOT_FOUND",g}var L=S[B]={exports:{}};_[B][0].call(L.exports,function(M){var H=_[B][1][M];return R(H||M)},L,L.exports,h,_,S,b)}return S[B].exports}for(var I=typeof pe=="function"&&pe,P=0;P<b.length;P++)R(b[P]);return R}({1:[function(h,_,S){(function(b){var R=b.MutationObserver||b.WebKitMutationObserver,I;if(R){var P=0,B=new R(M),G=b.document.createTextNode("");B.observe(G,{characterData:!0}),I=function(){G.data=P=++P%2}}else if(!b.setImmediate&&typeof b.MessageChannel<"u"){var v=new b.MessageChannel;v.port1.onmessage=M,I=function(){v.port2.postMessage(0)}}else"document"in b&&"onreadystatechange"in b.document.createElement("script")?I=function(){var k=b.document.createElement("script");k.onreadystatechange=function(){M(),k.onreadystatechange=null,k.parentNode.removeChild(k),k=null},b.document.documentElement.appendChild(k)}:I=function(){setTimeout(M,0)};var g,L=[];function M(){g=!0;for(var k,Q,U=L.length;U;){for(Q=L,L=[],k=-1;++k<U;)Q[k]();U=L.length}g=!1}_.exports=H;function H(k){L.push(k)===1&&!g&&I()}}).call(this,typeof me<"u"?me:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(h,_,S){var b=h(1);function R(){}var I={},P=["REJECTED"],B=["FULFILLED"],G=["PENDING"];_.exports=v;function v(d){if(typeof d!="function")throw new TypeError("resolver must be a function");this.state=G,this.queue=[],this.outcome=void 0,d!==R&&H(this,d)}v.prototype.catch=function(d){return this.then(null,d)},v.prototype.then=function(d,T){if(typeof d!="function"&&this.state===B||typeof T!="function"&&this.state===P)return this;var w=new this.constructor(R);if(this.state!==G){var D=this.state===B?d:T;L(w,D,this.outcome)}else this.queue.push(new g(w,d,T));return w};function g(d,T,w){this.promise=d,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}g.prototype.callFulfilled=function(d){I.resolve(this.promise,d)},g.prototype.otherCallFulfilled=function(d){L(this.promise,this.onFulfilled,d)},g.prototype.callRejected=function(d){I.reject(this.promise,d)},g.prototype.otherCallRejected=function(d){L(this.promise,this.onRejected,d)};function L(d,T,w){b(function(){var D;try{D=T(w)}catch(F){return I.reject(d,F)}D===d?I.reject(d,new TypeError("Cannot resolve promise with itself")):I.resolve(d,D)})}I.resolve=function(d,T){var w=k(M,T);if(w.status==="error")return I.reject(d,w.value);var D=w.value;if(D)H(d,D);else{d.state=B,d.outcome=T;for(var F=-1,z=d.queue.length;++F<z;)d.queue[F].callFulfilled(T)}return d},I.reject=function(d,T){d.state=P,d.outcome=T;for(var w=-1,D=d.queue.length;++w<D;)d.queue[w].callRejected(T);return d};function M(d){var T=d&&d.then;if(d&&(typeof d=="object"||typeof d=="function")&&typeof T=="function")return function(){T.apply(d,arguments)}}function H(d,T){var w=!1;function D(W){w||(w=!0,I.reject(d,W))}function F(W){w||(w=!0,I.resolve(d,W))}function z(){T(F,D)}var V=k(z);V.status==="error"&&D(V.value)}function k(d,T){var w={};try{w.value=d(T),w.status="success"}catch(D){w.status="error",w.value=D}return w}v.resolve=Q;function Q(d){return d instanceof this?d:I.resolve(new this(R),d)}v.reject=U;function U(d){var T=new this(R);return I.reject(T,d)}v.all=_e;function _e(d){var T=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=d.length,D=!1;if(!w)return this.resolve([]);for(var F=new Array(w),z=0,V=-1,W=new this(R);++V<w;)q(d[V],V);return W;function q(ie,de){T.resolve(ie).then(be,function(te){D||(D=!0,I.reject(W,te))});function be(te){F[de]=te,++z===w&&!D&&(D=!0,I.resolve(W,F))}}}v.race=ne;function ne(d){var T=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=d.length,D=!1;if(!w)return this.resolve([]);for(var F=-1,z=new this(R);++F<w;)V(d[F]);return z;function V(W){T.resolve(W).then(function(q){D||(D=!0,I.resolve(z,q))},function(q){D||(D=!0,I.reject(z,q))})}}},{1:1}],3:[function(h,_,S){(function(b){typeof b.Promise!="function"&&(b.Promise=h(2))}).call(this,typeof me<"u"?me:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(h,_,S){var b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var P=I();function B(){try{if(!P||!P.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||t)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function G(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(r){if(r.name!=="TypeError")throw r;for(var n=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,o=new n,a=0;a<e.length;a+=1)o.append(e[a]);return o.getBlob(t.type)}}typeof Promise>"u"&&h(3);var v=Promise;function g(e,t){t&&e.then(function(n){t(null,n)},function(n){t(n)})}function L(e,t,n){typeof t=="function"&&e.then(t),typeof n=="function"&&e.catch(n)}function M(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function H(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var k="local-forage-detect-blob-support",Q=void 0,U={},_e=Object.prototype.toString,ne="readonly",d="readwrite";function T(e){for(var t=e.length,n=new ArrayBuffer(t),o=new Uint8Array(n),a=0;a<t;a++)o[a]=e.charCodeAt(a);return n}function w(e){return new v(function(t){var n=e.transaction(k,d),o=G([""]);n.objectStore(k).put(o,"key"),n.onabort=function(a){a.preventDefault(),a.stopPropagation(),t(!1)},n.oncomplete=function(){var a=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);t(r||!a||parseInt(a[1],10)>=43)}}).catch(function(){return!1})}function D(e){return typeof Q=="boolean"?v.resolve(Q):w(e).then(function(t){return Q=t,Q})}function F(e){var t=U[e.name],n={};n.promise=new v(function(o,a){n.resolve=o,n.reject=a}),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then(function(){return n.promise}):t.dbReady=n.promise}function z(e){var t=U[e.name],n=t.deferredOperations.pop();if(n)return n.resolve(),n.promise}function V(e,t){var n=U[e.name],o=n.deferredOperations.pop();if(o)return o.reject(t),o.promise}function W(e,t){return new v(function(n,o){if(U[e.name]=U[e.name]||Oe(),e.db)if(t)F(e),e.db.close();else return n(e.db);var a=[e.name];t&&a.push(e.version);var r=P.open.apply(P,a);t&&(r.onupgradeneeded=function(i){var s=r.result;try{s.createObjectStore(e.storeName),i.oldVersion<=1&&s.createObjectStore(k)}catch(u){if(u.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+i.oldVersion+" to version "+i.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw u}}),r.onerror=function(i){i.preventDefault(),o(r.error)},r.onsuccess=function(){var i=r.result;i.onversionchange=function(s){s.target.close()},n(i),z(e)}})}function q(e){return W(e,!1)}function ie(e){return W(e,!0)}function de(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),o=e.version<e.db.version,a=e.version>e.db.version;if(o&&(e.version!==t&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),a||n){if(n){var r=e.db.version+1;r>e.version&&(e.version=r)}return!0}return!1}function be(e){return new v(function(t,n){var o=new FileReader;o.onerror=n,o.onloadend=function(a){var r=btoa(a.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:e.type})},o.readAsBinaryString(e)})}function te(e){var t=T(atob(e.data));return G([t],{type:e.type})}function Ce(e){return e&&e.__local_forage_encoded_blob}function fn(e){var t=this,n=t._initReady().then(function(){var o=U[t._dbInfo.name];if(o&&o.dbReady)return o.dbReady});return L(n,e,e),n}function ln(e){F(e);for(var t=U[e.name],n=t.forages,o=0;o<n.length;o++){var a=n[o];a._dbInfo.db&&(a._dbInfo.db.close(),a._dbInfo.db=null)}return e.db=null,q(e).then(function(r){return e.db=r,de(e)?ie(e):r}).then(function(r){e.db=t.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r}).catch(function(r){throw V(e,r),r})}function j(e,t,n,o){o===void 0&&(o=1);try{var a=e.db.transaction(e.storeName,t);n(null,a)}catch(r){if(o>0&&(!e.db||r.name==="InvalidStateError"||r.name==="NotFoundError"))return v.resolve().then(function(){if(!e.db||r.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),ie(e)}).then(function(){return ln(e).then(function(){j(e,t,n,o-1)})}).catch(n);n(r)}}function Oe(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function dn(e){var t=this,n={db:null};if(e)for(var o in e)n[o]=e[o];var a=U[n.name];a||(a=Oe(),U[n.name]=a),a.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=fn);var r=[];function i(){return v.resolve()}for(var s=0;s<a.forages.length;s++){var u=a.forages[s];u!==t&&r.push(u._initReady().catch(i))}var c=a.forages.slice(0);return v.all(r).then(function(){return n.db=a.db,q(n)}).then(function(f){return n.db=f,de(n,t._defaultConfig.version)?ie(n):f}).then(function(f){n.db=a.db=f,t._dbInfo=n;for(var m=0;m<c.length;m++){var E=c[m];E!==t&&(E._dbInfo.db=n.db,E._dbInfo.version=n.version)}})}function vn(e,t){var n=this;e=M(e);var o=new v(function(a,r){n.ready().then(function(){j(n._dbInfo,ne,function(i,s){if(i)return r(i);try{var u=s.objectStore(n._dbInfo.storeName),c=u.get(e);c.onsuccess=function(){var f=c.result;f===void 0&&(f=null),Ce(f)&&(f=te(f)),a(f)},c.onerror=function(){r(c.error)}}catch(f){r(f)}})}).catch(r)});return g(o,t),o}function hn(e,t){var n=this,o=new v(function(a,r){n.ready().then(function(){j(n._dbInfo,ne,function(i,s){if(i)return r(i);try{var u=s.objectStore(n._dbInfo.storeName),c=u.openCursor(),f=1;c.onsuccess=function(){var m=c.result;if(m){var E=m.value;Ce(E)&&(E=te(E));var A=e(E,m.key,f++);A!==void 0?a(A):m.continue()}else a()},c.onerror=function(){r(c.error)}}catch(m){r(m)}})}).catch(r)});return g(o,t),o}function mn(e,t,n){var o=this;e=M(e);var a=new v(function(r,i){var s;o.ready().then(function(){return s=o._dbInfo,_e.call(t)==="[object Blob]"?D(s.db).then(function(u){return u?t:be(t)}):t}).then(function(u){j(o._dbInfo,d,function(c,f){if(c)return i(c);try{var m=f.objectStore(o._dbInfo.storeName);u===null&&(u=void 0);var E=m.put(u,e);f.oncomplete=function(){u===void 0&&(u=null),r(u)},f.onabort=f.onerror=function(){var A=E.error?E.error:E.transaction.error;i(A)}}catch(A){i(A)}})}).catch(i)});return g(a,n),a}function pn(e,t){var n=this;e=M(e);var o=new v(function(a,r){n.ready().then(function(){j(n._dbInfo,d,function(i,s){if(i)return r(i);try{var u=s.objectStore(n._dbInfo.storeName),c=u.delete(e);s.oncomplete=function(){a()},s.onerror=function(){r(c.error)},s.onabort=function(){var f=c.error?c.error:c.transaction.error;r(f)}}catch(f){r(f)}})}).catch(r)});return g(o,t),o}function gn(e){var t=this,n=new v(function(o,a){t.ready().then(function(){j(t._dbInfo,d,function(r,i){if(r)return a(r);try{var s=i.objectStore(t._dbInfo.storeName),u=s.clear();i.oncomplete=function(){o()},i.onabort=i.onerror=function(){var c=u.error?u.error:u.transaction.error;a(c)}}catch(c){a(c)}})}).catch(a)});return g(n,e),n}function yn(e){var t=this,n=new v(function(o,a){t.ready().then(function(){j(t._dbInfo,ne,function(r,i){if(r)return a(r);try{var s=i.objectStore(t._dbInfo.storeName),u=s.count();u.onsuccess=function(){o(u.result)},u.onerror=function(){a(u.error)}}catch(c){a(c)}})}).catch(a)});return g(n,e),n}function _n(e,t){var n=this,o=new v(function(a,r){if(e<0){a(null);return}n.ready().then(function(){j(n._dbInfo,ne,function(i,s){if(i)return r(i);try{var u=s.objectStore(n._dbInfo.storeName),c=!1,f=u.openKeyCursor();f.onsuccess=function(){var m=f.result;if(!m){a(null);return}e===0||c?a(m.key):(c=!0,m.advance(e))},f.onerror=function(){r(f.error)}}catch(m){r(m)}})}).catch(r)});return g(o,t),o}function bn(e){var t=this,n=new v(function(o,a){t.ready().then(function(){j(t._dbInfo,ne,function(r,i){if(r)return a(r);try{var s=i.objectStore(t._dbInfo.storeName),u=s.openKeyCursor(),c=[];u.onsuccess=function(){var f=u.result;if(!f){o(c);return}c.push(f.key),f.continue()},u.onerror=function(){a(u.error)}}catch(f){a(f)}})}).catch(a)});return g(n,e),n}function En(e,t){t=H.apply(this,arguments);var n=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var o=this,a;if(!e.name)a=v.reject("Invalid arguments");else{var r=e.name===n.name&&o._dbInfo.db,i=r?v.resolve(o._dbInfo.db):q(e).then(function(s){var u=U[e.name],c=u.forages;u.db=s;for(var f=0;f<c.length;f++)c[f]._dbInfo.db=s;return s});e.storeName?a=i.then(function(s){if(s.objectStoreNames.contains(e.storeName)){var u=s.version+1;F(e);var c=U[e.name],f=c.forages;s.close();for(var m=0;m<f.length;m++){var E=f[m];E._dbInfo.db=null,E._dbInfo.version=u}var A=new v(function(N,C){var x=P.open(e.name,u);x.onerror=function(X){var ue=x.result;ue.close(),C(X)},x.onupgradeneeded=function(){var X=x.result;X.deleteObjectStore(e.storeName)},x.onsuccess=function(){var X=x.result;X.close(),N(X)}});return A.then(function(N){c.db=N;for(var C=0;C<f.length;C++){var x=f[C];x._dbInfo.db=N,z(x._dbInfo)}}).catch(function(N){throw(V(e,N)||v.resolve()).catch(function(){}),N})}}):a=i.then(function(s){F(e);var u=U[e.name],c=u.forages;s.close();for(var f=0;f<c.length;f++){var m=c[f];m._dbInfo.db=null}var E=new v(function(A,N){var C=P.deleteDatabase(e.name);C.onerror=function(){var x=C.result;x&&x.close(),N(C.error)},C.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},C.onsuccess=function(){var x=C.result;x&&x.close(),A(x)}});return E.then(function(A){u.db=A;for(var N=0;N<c.length;N++){var C=c[N];z(C._dbInfo)}}).catch(function(A){throw(V(e,A)||v.resolve()).catch(function(){}),A})})}return g(a,t),a}var wn={_driver:"asyncStorage",_initStorage:dn,_support:B(),iterate:hn,getItem:vn,setItem:mn,removeItem:pn,clear:gn,length:yn,key:_n,keys:bn,dropInstance:En};function Sn(){return typeof openDatabase=="function"}var Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",In="~~local_forage_type~",Pe=/^~~local_forage_type~([^~]+)~/,ve="__lfsc__:",Ee=ve.length,we="arbf",Se="blob",Me="si08",ke="ui08",Ue="uic8",Fe="si16",Ye="si32",$e="ur16",Ge="ui32",ze="fl32",Ve="fl64",We=Ee+we.length,Xe=Object.prototype.toString;function He(e){var t=e.length*.75,n=e.length,o,a=0,r,i,s,u;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var c=new ArrayBuffer(t),f=new Uint8Array(c);for(o=0;o<n;o+=4)r=Z.indexOf(e[o]),i=Z.indexOf(e[o+1]),s=Z.indexOf(e[o+2]),u=Z.indexOf(e[o+3]),f[a++]=r<<2|i>>4,f[a++]=(i&15)<<4|s>>2,f[a++]=(s&3)<<6|u&63;return c}function Ie(e){var t=new Uint8Array(e),n="",o;for(o=0;o<t.length;o+=3)n+=Z[t[o]>>2],n+=Z[(t[o]&3)<<4|t[o+1]>>4],n+=Z[(t[o+1]&15)<<2|t[o+2]>>6],n+=Z[t[o+2]&63];return t.length%3===2?n=n.substring(0,n.length-1)+"=":t.length%3===1&&(n=n.substring(0,n.length-2)+"=="),n}function Tn(e,t){var n="";if(e&&(n=Xe.call(e)),e&&(n==="[object ArrayBuffer]"||e.buffer&&Xe.call(e.buffer)==="[object ArrayBuffer]")){var o,a=ve;e instanceof ArrayBuffer?(o=e,a+=we):(o=e.buffer,n==="[object Int8Array]"?a+=Me:n==="[object Uint8Array]"?a+=ke:n==="[object Uint8ClampedArray]"?a+=Ue:n==="[object Int16Array]"?a+=Fe:n==="[object Uint16Array]"?a+=$e:n==="[object Int32Array]"?a+=Ye:n==="[object Uint32Array]"?a+=Ge:n==="[object Float32Array]"?a+=ze:n==="[object Float64Array]"?a+=Ve:t(new Error("Failed to get type for BinaryArray"))),t(a+Ie(o))}else if(n==="[object Blob]"){var r=new FileReader;r.onload=function(){var i=In+e.type+"~"+Ie(this.result);t(ve+Se+i)},r.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(i){console.error("Couldn't convert value into a JSON string: ",e),t(null,i)}}function An(e){if(e.substring(0,Ee)!==ve)return JSON.parse(e);var t=e.substring(We),n=e.substring(Ee,We),o;if(n===Se&&Pe.test(t)){var a=t.match(Pe);o=a[1],t=t.substring(a[0].length)}var r=He(t);switch(n){case we:return r;case Se:return G([r],{type:o});case Me:return new Int8Array(r);case ke:return new Uint8Array(r);case Ue:return new Uint8ClampedArray(r);case Fe:return new Int16Array(r);case $e:return new Uint16Array(r);case Ye:return new Int32Array(r);case Ge:return new Uint32Array(r);case ze:return new Float32Array(r);case Ve:return new Float64Array(r);default:throw new Error("Unkown type: "+n)}}var Te={serialize:Tn,deserialize:An,stringToBuffer:He,bufferToString:Ie};function Ke(e,t,n,o){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,o)}function Nn(e){var t=this,n={db:null};if(e)for(var o in e)n[o]=typeof e[o]!="string"?e[o].toString():e[o];var a=new v(function(r,i){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(s){return i(s)}n.db.transaction(function(s){Ke(s,n,function(){t._dbInfo=n,r()},function(u,c){i(c)})},i)});return n.serializer=Te,a}function ee(e,t,n,o,a,r){e.executeSql(n,o,a,function(i,s){s.code===s.SYNTAX_ERR?i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],function(u,c){c.rows.length?r(u,s):Ke(u,t,function(){u.executeSql(n,o,a,r)},r)},r):r(i,s)},r)}function Dn(e,t){var n=this;e=M(e);var o=new v(function(a,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(s){ee(s,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],function(u,c){var f=c.rows.length?c.rows.item(0).value:null;f&&(f=i.serializer.deserialize(f)),a(f)},function(u,c){r(c)})})}).catch(r)});return g(o,t),o}function Rn(e,t){var n=this,o=new v(function(a,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(s){ee(s,i,"SELECT * FROM "+i.storeName,[],function(u,c){for(var f=c.rows,m=f.length,E=0;E<m;E++){var A=f.item(E),N=A.value;if(N&&(N=i.serializer.deserialize(N)),N=e(N,A.key,E+1),N!==void 0){a(N);return}}a()},function(u,c){r(c)})})}).catch(r)});return g(o,t),o}function Qe(e,t,n,o){var a=this;e=M(e);var r=new v(function(i,s){a.ready().then(function(){t===void 0&&(t=null);var u=t,c=a._dbInfo;c.serializer.serialize(t,function(f,m){m?s(m):c.db.transaction(function(E){ee(E,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[e,f],function(){i(u)},function(A,N){s(N)})},function(E){if(E.code===E.QUOTA_ERR){if(o>0){i(Qe.apply(a,[e,u,n,o-1]));return}s(E)}})})}).catch(s)});return g(r,n),r}function xn(e,t,n){return Qe.apply(this,[e,t,n,1])}function Bn(e,t){var n=this;e=M(e);var o=new v(function(a,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(s){ee(s,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[e],function(){a()},function(u,c){r(c)})})}).catch(r)});return g(o,t),o}function Ln(e){var t=this,n=new v(function(o,a){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(i){ee(i,r,"DELETE FROM "+r.storeName,[],function(){o()},function(s,u){a(u)})})}).catch(a)});return g(n,e),n}function Cn(e){var t=this,n=new v(function(o,a){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(i){ee(i,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],function(s,u){var c=u.rows.item(0).c;o(c)},function(s,u){a(u)})})}).catch(a)});return g(n,e),n}function On(e,t){var n=this,o=new v(function(a,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(s){ee(s,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],function(u,c){var f=c.rows.length?c.rows.item(0).key:null;a(f)},function(u,c){r(c)})})}).catch(r)});return g(o,t),o}function Pn(e){var t=this,n=new v(function(o,a){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(i){ee(i,r,"SELECT key FROM "+r.storeName,[],function(s,u){for(var c=[],f=0;f<u.rows.length;f++)c.push(u.rows.item(f).key);o(c)},function(s,u){a(u)})})}).catch(a)});return g(n,e),n}function Mn(e){return new v(function(t,n){e.transaction(function(o){o.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(a,r){for(var i=[],s=0;s<r.rows.length;s++)i.push(r.rows.item(s).name);t({db:e,storeNames:i})},function(a,r){n(r)})},function(o){n(o)})})}function kn(e,t){t=H.apply(this,arguments);var n=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var o=this,a;return e.name?a=new v(function(r){var i;e.name===n.name?i=o._dbInfo.db:i=openDatabase(e.name,"","",0),e.storeName?r({db:i,storeNames:[e.storeName]}):r(Mn(i))}).then(function(r){return new v(function(i,s){r.db.transaction(function(u){function c(A){return new v(function(N,C){u.executeSql("DROP TABLE IF EXISTS "+A,[],function(){N()},function(x,X){C(X)})})}for(var f=[],m=0,E=r.storeNames.length;m<E;m++)f.push(c(r.storeNames[m]));v.all(f).then(function(){i()}).catch(function(A){s(A)})},function(u){s(u)})})}):a=v.reject("Invalid arguments"),g(a,t),a}var Un={_driver:"webSQLStorage",_initStorage:Nn,_support:Sn(),iterate:Rn,getItem:Dn,setItem:xn,removeItem:Bn,clear:Ln,length:Cn,key:On,keys:Pn,dropInstance:kn};function Fn(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function qe(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function Yn(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function $n(){return!Yn()||localStorage.length>0}function Gn(e){var t=this,n={};if(e)for(var o in e)n[o]=e[o];return n.keyPrefix=qe(e,t._defaultConfig),$n()?(t._dbInfo=n,n.serializer=Te,v.resolve()):v.reject()}function zn(e){var t=this,n=t.ready().then(function(){for(var o=t._dbInfo.keyPrefix,a=localStorage.length-1;a>=0;a--){var r=localStorage.key(a);r.indexOf(o)===0&&localStorage.removeItem(r)}});return g(n,e),n}function Vn(e,t){var n=this;e=M(e);var o=n.ready().then(function(){var a=n._dbInfo,r=localStorage.getItem(a.keyPrefix+e);return r&&(r=a.serializer.deserialize(r)),r});return g(o,t),o}function Wn(e,t){var n=this,o=n.ready().then(function(){for(var a=n._dbInfo,r=a.keyPrefix,i=r.length,s=localStorage.length,u=1,c=0;c<s;c++){var f=localStorage.key(c);if(f.indexOf(r)===0){var m=localStorage.getItem(f);if(m&&(m=a.serializer.deserialize(m)),m=e(m,f.substring(i),u++),m!==void 0)return m}}});return g(o,t),o}function Xn(e,t){var n=this,o=n.ready().then(function(){var a=n._dbInfo,r;try{r=localStorage.key(e)}catch{r=null}return r&&(r=r.substring(a.keyPrefix.length)),r});return g(o,t),o}function Hn(e){var t=this,n=t.ready().then(function(){for(var o=t._dbInfo,a=localStorage.length,r=[],i=0;i<a;i++){var s=localStorage.key(i);s.indexOf(o.keyPrefix)===0&&r.push(s.substring(o.keyPrefix.length))}return r});return g(n,e),n}function Kn(e){var t=this,n=t.keys().then(function(o){return o.length});return g(n,e),n}function Qn(e,t){var n=this;e=M(e);var o=n.ready().then(function(){var a=n._dbInfo;localStorage.removeItem(a.keyPrefix+e)});return g(o,t),o}function qn(e,t,n){var o=this;e=M(e);var a=o.ready().then(function(){t===void 0&&(t=null);var r=t;return new v(function(i,s){var u=o._dbInfo;u.serializer.serialize(t,function(c,f){if(f)s(f);else try{localStorage.setItem(u.keyPrefix+e,c),i(r)}catch(m){(m.name==="QuotaExceededError"||m.name==="NS_ERROR_DOM_QUOTA_REACHED")&&s(m),s(m)}})})});return g(a,n),a}function jn(e,t){if(t=H.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var o=this,a;return e.name?a=new v(function(r){e.storeName?r(qe(e,o._defaultConfig)):r(e.name+"/")}).then(function(r){for(var i=localStorage.length-1;i>=0;i--){var s=localStorage.key(i);s.indexOf(r)===0&&localStorage.removeItem(s)}}):a=v.reject("Invalid arguments"),g(a,t),a}var Jn={_driver:"localStorageWrapper",_initStorage:Gn,_support:Fn(),iterate:Wn,getItem:Vn,setItem:qn,removeItem:Qn,clear:zn,length:Kn,key:Xn,keys:Hn,dropInstance:jn},Zn=function(t,n){return t===n||typeof t=="number"&&typeof n=="number"&&isNaN(t)&&isNaN(n)},et=function(t,n){for(var o=t.length,a=0;a<o;){if(Zn(t[a],n))return!0;a++}return!1},je=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},se={},Je={},re={INDEXEDDB:wn,WEBSQL:Un,LOCALSTORAGE:Jn},nt=[re.INDEXEDDB._driver,re.WEBSQL._driver,re.LOCALSTORAGE._driver],he=["dropInstance"],Ae=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(he),tt={description:"",driver:nt.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function rt(e,t){e[t]=function(){var n=arguments;return e.ready().then(function(){return e[t].apply(e,n)})}}function Ne(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(je(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var ot=function(){function e(t){R(this,e);for(var n in re)if(re.hasOwnProperty(n)){var o=re[n],a=o._driver;this[n]=a,se[a]||this.defineDriver(o)}this._defaultConfig=Ne({},tt),this._config=Ne({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(n){if((typeof n>"u"?"undefined":b(n))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var o in n){if(o==="storeName"&&(n[o]=n[o].replace(/\W/g,"_")),o==="version"&&typeof n[o]!="number")return new Error("Database version must be a number.");this._config[o]=n[o]}return"driver"in n&&n.driver?this.setDriver(this._config.driver):!0}else return typeof n=="string"?this._config[n]:this._config},e.prototype.defineDriver=function(n,o,a){var r=new v(function(i,s){try{var u=n._driver,c=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!n._driver){s(c);return}for(var f=Ae.concat("_initStorage"),m=0,E=f.length;m<E;m++){var A=f[m],N=!et(he,A);if((N||n[A])&&typeof n[A]!="function"){s(c);return}}var C=function(){for(var ue=function(st){return function(){var ut=new Error("Method "+st+" is not implemented by the current driver"),Ze=v.reject(ut);return g(Ze,arguments[arguments.length-1]),Ze}},De=0,it=he.length;De<it;De++){var Re=he[De];n[Re]||(n[Re]=ue(Re))}};C();var x=function(ue){se[u]&&console.info("Redefining LocalForage driver: "+u),se[u]=n,Je[u]=ue,i()};"_support"in n?n._support&&typeof n._support=="function"?n._support().then(x,s):x(!!n._support):x(!0)}catch(X){s(X)}});return L(r,o,a),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(n,o,a){var r=se[n]?v.resolve(se[n]):v.reject(new Error("Driver not found."));return L(r,o,a),r},e.prototype.getSerializer=function(n){var o=v.resolve(Te);return L(o,n),o},e.prototype.ready=function(n){var o=this,a=o._driverSet.then(function(){return o._ready===null&&(o._ready=o._initDriver()),o._ready});return L(a,n,n),a},e.prototype.setDriver=function(n,o,a){var r=this;je(n)||(n=[n]);var i=this._getSupportedDrivers(n);function s(){r._config.driver=r.driver()}function u(m){return r._extend(m),s(),r._ready=r._initStorage(r._config),r._ready}function c(m){return function(){var E=0;function A(){for(;E<m.length;){var N=m[E];return E++,r._dbInfo=null,r._ready=null,r.getDriver(N).then(u).catch(A)}s();var C=new Error("No available storage method found.");return r._driverSet=v.reject(C),r._driverSet}return A()}}var f=this._driverSet!==null?this._driverSet.catch(function(){return v.resolve()}):v.resolve();return this._driverSet=f.then(function(){var m=i[0];return r._dbInfo=null,r._ready=null,r.getDriver(m).then(function(E){r._driver=E._driver,s(),r._wrapLibraryMethodsWithReady(),r._initDriver=c(i)})}).catch(function(){s();var m=new Error("No available storage method found.");return r._driverSet=v.reject(m),r._driverSet}),L(this._driverSet,o,a),this._driverSet},e.prototype.supports=function(n){return!!Je[n]},e.prototype._extend=function(n){Ne(this,n)},e.prototype._getSupportedDrivers=function(n){for(var o=[],a=0,r=n.length;a<r;a++){var i=n[a];this.supports(i)&&o.push(i)}return o},e.prototype._wrapLibraryMethodsWithReady=function(){for(var n=0,o=Ae.length;n<o;n++)rt(this,Ae[n])},e.prototype.createInstance=function(n){return new e(n)},e}(),at=new ot;_.exports=at},{3:3}]},{},[4])(4)})})(rn);var ft=rn.exports;const xe=ct(ft),O={STAT_DECAY_INTERVAL:3e4,STAT_DECAY_AMOUNT:5,SAVE_INTERVAL:1e4,MAX_STAT:100,MIN_STAT:0,EVOLUTION_LEVEL:16,GEN1_MAX_ID:151,ANIMATION_FPS:60};let l={hunger:100,happiness:100,energy:100,level:1,experience:0,name:"Pikachu",pokemonId:25,pokemonData:null,isSleeping:!1,isGameOver:!1,lastUpdate:Date.now()};const K=document.getElementById("gameCanvas"),Y=K.getContext("2d"),fe=document.getElementById("evolutionCanvas"),ce=fe.getContext("2d");let ge=new Image,on=!1,oe=0,$="idle",ye=null;async function en(){console.log("🎮 Inicializando Pokémon Tamagotchi..."),xe.config({name:"PokemonTamagotchi",storeName:"gameData"}),await lt(),St(),await le(l.pokemonId),It(),console.log("✅ Juego iniciado correctamente")}async function lt(){try{const p=await xe.getItem("tamagotchiState");if(p){const y=Date.now()-p.lastUpdate,h=Math.floor(y/O.STAT_DECAY_INTERVAL);l={...p,hunger:Math.max(0,p.hunger-h*O.STAT_DECAY_AMOUNT),happiness:Math.max(0,p.happiness-h*O.STAT_DECAY_AMOUNT),energy:Math.max(0,p.energy-h*O.STAT_DECAY_AMOUNT),lastUpdate:Date.now()},console.log(`⏰ Tiempo offline: ${Math.round(y/1e3)}s, Intervalos perdidos: ${h}`)}}catch(p){console.error("Error cargando estado:",p)}}async function an(){try{l.lastUpdate=Date.now(),await xe.setItem("tamagotchiState",l),console.log("💾 Estado guardado")}catch(p){console.error("Error guardando estado:",p)}}function J(){document.getElementById("hungerBar").style.width=`${l.hunger}%`,document.getElementById("happinessBar").style.width=`${l.happiness}%`,document.getElementById("energyBar").style.width=`${l.energy}%`,document.getElementById("pokemonName").textContent=l.name,(l.hunger<=0||l.happiness<=0||l.energy<=0)&&(l.isGameOver||Et())}async function le(p){try{console.log(`🔍 Cargando Pokémon ID: ${p}`);const y=await fetch(`https://pokeapi.co/api/v2/pokemon/${p}`);if(!y.ok)throw new Error("Pokémon no encontrado");const h=await y.json();l.pokemonData=h,l.pokemonId=h.id,l.name=h.name.charAt(0).toUpperCase()+h.name.slice(1),dt(h.types),await vt(h),J(),console.log(`✅ ${l.name} cargado correctamente`)}catch(y){console.error("Error cargando Pokémon:",y),alert("Error al cargar el Pokémon. Intenta con otro nombre o ID.")}}function dt(p){const y=document.getElementById("pokemonTypes");y.innerHTML="",p.forEach(({type:h})=>{const _=document.createElement("span");_.className=`type-badge type-${h.name}`,_.textContent=h.name,y.appendChild(_)})}async function vt(p){return new Promise((y,h)=>{var S,b,R,I,P,B,G,v;const _=((I=(R=(b=(S=p.sprites.versions)==null?void 0:S["generation-v"])==null?void 0:b["black-white"])==null?void 0:R.animated)==null?void 0:I.front_default)||((G=(B=(P=p.sprites.versions)==null?void 0:P["generation-v"])==null?void 0:B["black-white"])==null?void 0:G.front_default)||p.sprites.front_default||((v=p.sprites.other["official-artwork"])==null?void 0:v.front_default);if(!_){h(new Error("No sprite disponible"));return}ge.onload=()=>{on=!0,console.log("🎨 Sprite cargado"),y()},ge.onerror=()=>{h(new Error("Error cargando sprite"))},ge.src=_})}function ht(){if(Y.clearRect(0,0,K.width,K.height),!on){Y.fillStyle="#333",Y.font='16px "Press Start 2P"',Y.textAlign="center",Y.fillText("Cargando...",K.width/2,K.height/2);return}Y.save();const p=K.width/2,y=K.height/2;switch(Y.translate(p,y),$){case"happy":const _=Math.sin(oe*.2)*30;Y.translate(0,-Math.abs(_));break;case"sad":const S=Math.sin(oe*.5)*5;Y.translate(S,0);break;case"sleeping":const b=.7+Math.sin(oe*.05)*.3;Y.globalAlpha=b;break;case"idle":default:(oe%120===0||oe%120===1)&&(Y.globalAlpha=.3);break}const h=80;Y.drawImage(ge,-h/2,-h/2,h,h),l.isSleeping&&(Y.font="24px Arial",Y.fillText("💤",30,-40)),Y.restore(),oe++}function sn(){ht(),requestAnimationFrame(sn)}function mt(){l.isGameOver||l.isSleeping||(l.hunger=Math.min(O.MAX_STAT,l.hunger+20),l.happiness=Math.min(O.MAX_STAT,l.happiness+5),$="happy",setTimeout(()=>{$="idle"},1e3),un(5),J(),ae("feed"))}function pt(){if(!(l.isGameOver||l.isSleeping)){if(l.energy<10){alert("¡Tu Pokémon está muy cansado! Necesita dormir."),$="sad",setTimeout(()=>{$="idle"},1e3);return}l.happiness=Math.min(O.MAX_STAT,l.happiness+15),l.energy=Math.max(O.MIN_STAT,l.energy-10),$="happy",setTimeout(()=>{$="idle"},2e3),yt(),un(10),J(),ae("play")}}function gt(){l.isGameOver||(l.isSleeping?(l.isSleeping=!1,$="idle",document.getElementById("sleepBtn").innerHTML="<span>💤</span><span>Dormir</span>",Be(),ae("wake")):(l.isSleeping=!0,l.energy=Math.min(O.MAX_STAT,l.energy+30),$="sleeping",document.getElementById("sleepBtn").innerHTML="<span>☀️</span><span>Despertar</span>",Le(),ae("sleep")),J())}function yt(){let p=0;const y=5,h=_=>{p++;const S=K.getBoundingClientRect();_.clientX-S.left,_.clientY-S.top,p>=y&&(K.removeEventListener("click",h),l.happiness=Math.min(O.MAX_STAT,l.happiness+10),J())};K.addEventListener("click",h),setTimeout(()=>{K.removeEventListener("click",h)},5e3)}function un(p){l.experience+=p;const y=l.level*20;l.experience>=y&&(l.level++,l.experience=0,console.log(`🎉 ¡Nivel ${l.level}!`),l.level>=O.EVOLUTION_LEVEL&&_t())}async function _t(){try{const y=await(await fetch(`https://pokeapi.co/api/v2/pokemon-species/${l.pokemonId}`)).json(),_=await(await fetch(y.evolution_chain.url)).json(),S=cn(_.chain,l.name.toLowerCase());S&&await bt(S)}catch(p){console.error("Error verificando evolución:",p)}}function cn(p,y){if(p.species.name===y&&p.evolves_to.length>0)return p.evolves_to[0].species.name;for(const h of p.evolves_to){const _=cn(h,y);if(_)return _}return null}async function bt(p){console.log(`🌟 ¡Evolucionando a ${p}!`),document.getElementById("evolutionScreen").classList.remove("hidden"),ce.clearRect(0,0,fe.width,fe.height),ce.fillStyle="white",ce.font='20px "Press Start 2P"',ce.textAlign="center",ce.fillText("Evolucionando...",fe.width/2,fe.height/2),await new Promise(y=>setTimeout(y,3e3)),await le(p),document.getElementById("evolutionScreen").classList.add("hidden"),ae("evolve")}function Be(){Le(),ye=setInterval(()=>{!l.isSleeping&&!l.isGameOver&&(l.hunger=Math.max(O.MIN_STAT,l.hunger-O.STAT_DECAY_AMOUNT),l.happiness=Math.max(O.MIN_STAT,l.happiness-O.STAT_DECAY_AMOUNT),l.energy=Math.max(O.MIN_STAT,l.energy-O.STAT_DECAY_AMOUNT),J(),(l.hunger<30||l.happiness<30||l.energy<30)&&$!=="happy"&&($="sad"))},O.STAT_DECAY_INTERVAL)}function Le(){ye&&(clearInterval(ye),ye=null)}function Et(){l.isGameOver=!0,Le(),$="sad",document.getElementById("gameOverScreen").classList.remove("hidden"),ae("faint"),console.log("💀 Game Over")}async function nn(){l={hunger:100,happiness:100,energy:100,level:1,experience:0,name:"Pikachu",pokemonId:25,pokemonData:null,isSleeping:!1,isGameOver:!1,lastUpdate:Date.now()},document.getElementById("gameOverScreen").classList.add("hidden"),await le(l.pokemonId),Be(),$="idle",J()}async function wt(){const p=Math.floor(Math.random()*O.GEN1_MAX_ID)+1;await le(p),l.hunger=100,l.happiness=100,l.energy=100,l.level=1,l.experience=0,l.isGameOver=!1,l.isSleeping=!1,$="idle",J()}async function tn(){const p=document.getElementById("pokemonSearch").value.trim().toLowerCase();p&&(await le(p),l.hunger=100,l.happiness=100,l.energy=100,l.level=1,l.experience=0,l.isGameOver=!1,l.isSleeping=!1,$="idle",J(),document.getElementById("pokemonSearch").value="")}function ae(p){const y=new(window.AudioContext||window.webkitAudioContext),h=y.createOscillator(),_=y.createGain();switch(h.connect(_),_.connect(y.destination),p){case"feed":h.frequency.value=440,_.gain.value=.1,h.start(),h.stop(y.currentTime+.1);break;case"play":h.frequency.value=523,_.gain.value=.1,h.start(),h.stop(y.currentTime+.15);break;case"sleep":h.frequency.value=349,_.gain.value=.1,h.start(),h.stop(y.currentTime+.3);break;case"wake":h.frequency.value=659,_.gain.value=.1,h.start(),h.stop(y.currentTime+.1);break;case"faint":h.frequency.value=220,_.gain.value=.1,h.start(),h.stop(y.currentTime+.5);break;case"evolve":h.frequency.value=880,_.gain.value=.1,h.start(),h.stop(y.currentTime+.5);break}}function St(){document.getElementById("feedBtn").addEventListener("click",mt),document.getElementById("playBtn").addEventListener("click",pt),document.getElementById("sleepBtn").addEventListener("click",gt),document.getElementById("resetBtn").addEventListener("click",nn),document.getElementById("restartBtn").addEventListener("click",nn),document.getElementById("randomBtn").addEventListener("click",wt),document.getElementById("searchBtn").addEventListener("click",tn),document.getElementById("pokemonSearch").addEventListener("keypress",p=>{p.key==="Enter"&&tn()})}function It(){sn(),Be(),setInterval(()=>{an()},O.SAVE_INTERVAL)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",en):en();window.addEventListener("beforeunload",()=>{an()});
